---
title: '複数の Hasura CLI のバージョンを切り替えられるツールを作りました'
emoji: '🕺'
type: 'tech' # tech: 技術記事 / idea: アイデア
topics: ['Hasura', 'Go', 'CLI']
published: false
---

# 開発物と開発経緯

いろいろな言語のバージョン管理ツールとして頻繁に使われる「〜env」的なものの Hasura CLI バージョンを作りました。

https://github.com/kmtym1998/hasuraenv

私の所属する会社で開発するプロダクトでは Hasura を全面的に採用し、Hasura を使ったプロダクトがいくつか存在します。それぞれのプロダクトごとに Hasura のバージョンが違うため、開発対象のプロダクトが変わるごとに `hasura update-cli` で CLI をインストールし直す必要がありました。その作業が毎度面倒なので [nodebrew](https://github.com/hokaccha/nodebrew) や [rbenv](https://github.com/rbenv/rbenv) のような簡単にバージョンを切り替えられるツールを作ることにしました。

# 使い方・機能

- nodebrew のインターフェースをパクった
- `init`, `ls-remote`, `ls`, `install`, `use`

# 軽く実装の紹介

- Go (Cobra)
- シンボリックリンクに PATH 通している
- `~/.hasuraenv/versions` 配下に各バージョンの CLI を入れてる
- `use` でシンボリックリンクの向き先を変えてる

# おわりに

- PR や issue 大歓迎
- 使ってね

# 参考にしたページ
