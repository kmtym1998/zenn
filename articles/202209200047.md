---
title: 'Hasura CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚Šã¾ã—ãŸ'
emoji: 'ğŸ•º'
type: 'tech' # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ['Hasura', 'Go', 'CLI', 'å€‹äººé–‹ç™º']
published: false
---

# é–‹ç™ºç‰©ã¨é–‹ç™ºçµŒç·¯

ã„ã‚ã„ã‚ãªè¨€èªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦é »ç¹ã«ä½¿ã‚ã‚Œã‚‹ã€Œ~envã€çš„ãªã‚‚ã®ã® Hasura CLI ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½œã‚Šã¾ã—ãŸã€‚

https://github.com/kmtym1998/hasuraenv

ç§ã®æ‰€å±ã™ã‚‹ä¼šç¤¾ã§é–‹ç™ºã™ã‚‹ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã§ã¯ Hasura ã‚’å…¨é¢çš„ã«æ¡ç”¨ã—ã€Hasura ã‚’ä½¿ã£ãŸãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãŒã„ãã¤ã‹å­˜åœ¨ã—ã¾ã™ã€‚ãã‚Œãã‚Œã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã”ã¨ã« Hasura ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒé•ã†ãŸã‚ã€é–‹ç™ºå¯¾è±¡ã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãŒå¤‰ã‚ã‚‹ã”ã¨ã« `hasura update-cli` ã§ CLI ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ç›´ã™å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚ãã®ä½œæ¥­ãŒæ¯åº¦é¢å€’ãªã®ã§ [nodebrew](https://github.com/hokaccha/nodebrew) ã‚„ [rbenv](https://github.com/rbenv/rbenv) ã®ã‚ˆã†ãªç°¡å˜ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚

# ä½¿ã„æ–¹ãƒ»æ©Ÿèƒ½

[README](https://github.com/kmtym1998/hasuraenv/blob/main/README.md) ã«æ›¸ã„ãŸã“ã¨ã‚’å™›ã¿ç •ã„ã¦æ›¸ã„ãŸã ã‘ãªã®ã§ã€README ã‚’èª­ã‚ã°ã„ã„ã‚„ã¨ã„ã†æ–¹ã¯èª­ã¿é£›ã°ã—ã¦ã„ãŸã ã„ã¦æ§‹ã„ã¾ã›ã‚“ã€‚

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

`go install` ã§ãƒã‚¤ãƒŠãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```sh
$ go install github.com/kmtym1998/hasuraenv/cmd/hasuraenv@latest
```

`hasuraenv init` ã§ã®åˆæœŸåŒ–å‡¦ç†ã¨ hasuraenv ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ Hasura CLI ã¸ã® PATH ã‚’é€šã—ã¾ã™ã€‚
`init` ã‚’å®Ÿè¡Œã™ã‚‹ã¨è‡ªå‹•çš„ã«æœ€æ–°ã® Hasura CLI ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ãã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® Hasura CLI ãŒä½¿ã‚ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```sh
$ hasuraenv init

$ export PATH=$HOME/.hasuraenv/current:$PATH;
```

`hasura` ã‚³ãƒãƒ³ãƒ‰ã®å‘ãå…ˆãŒ hasuraenv ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ Hasura CLI ã®ã‚‚ã®ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚

```sh
$ which hasura
[ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¾ã§ã®ãƒ‘ã‚¹]/.hasuraenv/current/hasura
```

## ä½¿ã„æ–¹

```sh
$ hasuraenv --help
Manage multiple hasura-cli versions. Run 'hasuraenv --help' for usage

Usage:
  hasuraenv [flags]
  hasuraenv [command]

Available Commands:
  completion  Generate the autocompletion script for the specified shell
  help        Help about any command
  init        initialize hasuraenv
  install     Download and install <version>
  list        List installed versions
  ls-remote   List remote versions
  use         Use <version>
  version     Print the CLI version

Flags:
  -h, --help   help for hasuraenv

Use "hasuraenv [command] --help" for more information about a command.
```

ã‚³ãƒãƒ³ãƒ‰ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯ [nodebrew](https://github.com/hokaccha/nodebrew) ã‚’å¤§ã„ã«å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚
Hasura CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ–°ãŸã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ~ åˆ‡æ›¿ã®ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚

```sh
# å…ƒã® Hasura CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª
$ hasura version
INFO hasura cli                                    version=v2.1.0

# ãƒªãƒªãƒ¼ã‚¹æ¸ˆã¿ã® Hasura CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æœ€æ–° 10 ä»¶ã‚’ç¢ºèª
$ hasuraenv ls-remote --limit 10
INFO Latest 10 releases
     v2.13.0-beta.1
     v2.12.0
     ...

# v2.13.0-beta.1 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
$ hasuraenv install v2.13.0-beta.1

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã® Hasura CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸€è¦§ã‚’ç¢ºèª
$ hasuraenv ls
INFO Installed hasura cli
     v2.1.0
     v2.9.0
     v2.9.0-beta.3
     v2.13.0-beta.1

# v2.13.0-beta.1 ã‚’ä½¿ã†
$ hasuraenv use v2.13.0-beta.1

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒåˆ‡ã‚Šæ›¿ã‚ã£ãŸã“ã¨ã‚’ç¢ºèª
$ hasura version
INFO hasura cli                                    version=v2.13.0-beta.1
```

# å®Ÿè£…å†…å®¹ã¨ä»•æ§˜ã‚’è»½ãç´¹ä»‹

ä½¿ã„æ…£ã‚Œã¦ã„ã‚‹ã®ã§é–‹ç™ºè¨€èªã¯ Go ã‚’ã€CLI ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ã¯ [spf13/cobra](https://github.com/spf13/cobra) ã‚’æ¡ç”¨ã—ã¾ã—ãŸã€‚
`$HOME/.hasuraenv/versions` é…ä¸‹ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ Hasura CLI ã®ãƒã‚¤ãƒŠãƒªãŒå…¥ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚`$HOME/.hasuraenv/current` ã«ä½¿ç”¨ä¸­ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒã‚¤ãƒŠãƒªã‚’æŒ‡ã™ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã«ãªã£ã¦ã„ã¾ã™ã€‚`hasuraenv use` ã‚’ä½¿ã£ãŸã¨ãã«ã“ã®ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’å‘ãå…ˆã‚’å¤‰ãˆã¦ä½œã‚Šç›´ã™ã‚ˆã†å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚

```text:~/.hasuraenv é…ä¸‹ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
$ tree ~/.hasuraenv
â”œâ”€â”€ current -> ~/.hasuraenv/versions/default
â””â”€â”€ versions
    â”œâ”€â”€ default
    â”‚Â Â  â””â”€â”€ hasura
    â”œâ”€â”€ v2.1.0
    â”‚Â Â  â””â”€â”€ hasura
    â””â”€â”€ v2.13.0-beta.1
     Â Â  â””â”€â”€ hasura
```

Hasura CLI ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«æ›¸ã‹ã‚ŒãŸ Linux / Mac å‘ã‘ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã§è¡Œã†ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚(windows ã§ã¯ä½¿ãˆã¾ã›ã‚“...!)

https://hasura.io/docs/latest/hasura-cli/install-hasura-cli/

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œæ™‚ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ‘ã‚¹ã‚’æ¸¡ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚

# ãŠã‚ã‚Šã«

åŒã˜ã‚ˆã†ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã§å®Ÿè£…ã™ã‚Œã° Hasura CLI ã«é™ã‚‰ãšã„ã‚ã„ã‚ãªãƒ„ãƒ¼ãƒ«ã§ã€Œ~envã€ã¯ä½œã‚Œãã†ã§ã™ã­ã€‚

# å‚è€ƒã«ã—ãŸãƒšãƒ¼ã‚¸
